Цель конкурса — определить число заказов для определённого филиала в определённую дату.

Данные:
train.csv — тренировочная выборка вида: дата,филиал,число_заказов
test.csv — тестовая выборка вида: дата,филиал
sample_submission.csv — пример оформления решения. Формат совпадает с train.csv

Метрика для оценки решения — MAE. Разделение тестовой выборки на public/private присутствует.

### Структура
/data_original/

	train.csv (Date, Point, Count)

	test.csv (Date, Point)

	common.csv (key = ID, Date, Point, Count or NULL) // sort by Date

/data_transform/

	city.csv (key = Point, CityID, BranchNumber, OpenDate, LastDate)

	date.csv (key = ID, Year, Month, YearDay, MonthDay, WeekDay, ThroughMonth, ThroughWeek, ThroughDay)

	target.csv (key = ID, Point, Count, IsTrain, IsTest, IsValidation)

	intrenal_features.csv (key = ID, MeanForThroughMonth, MeanForMonth, MeanForThroughWeek, MeanForWeek, MeanForWeekDay,  MeanForWeekDayByYear)

	//MeanForThrough - сквозная нумерация от первой продажи (Ex: MeanForThroghMonth - среднее для каждого месяца, начиная с месяца первой продажи)

	//MeanFor - нумерация внутри более высокой по иерархии сущности (Ex: MeanForMonth - среднее для конкретного числа по месяцам c начала года)

	extrenal_features.csv   

### Анализ:
Требуется предсказать не значения после определенного периода, а часть исторических данных, извлеченных силой рандома, по переменной City, так как гистограммы их распределения схожи. Пропуски в данных отсутвуют.

Так как dodopizza открылось 5 лет назад, и нам данна информация за этот промежуток, есть основание, что данные не и искажены

Диапазон времени  train: 6.10.2011 - 9.9.2016, test: 14.12.2011 - 4.9.2016, то есть тестовый период полностью лежит внутри тренировочного

Попробовавть прологорифмировать признаки, перемножить, какое-либо другое нелинейное преобразование

Попробовать выполнять постпроцессинг - так как количество заказов целое число - округлять предикт в достаточно уверенных ответах [a, a+0.15], [a+0.85, a+1], a принадлежит Z


Перепроверить вычиcление средних

Для проверки качества модели сделаем отложенную выбоку, которая не будет участвовать в обучении

###Попробовать методы

Ridge регрессию, модель ARIMA для предсказания каждного временного ряда, dirrec

RFE для уменьшения количества фич

общая модель в xgboost, также линейные модели и Ridge по каждому городу. Далее их смешать

### Попробовать признаки

Из исходных данных:

среднее количество заказов на n дней вперед и назад, среднее за конкретный месяц в году, среднее за конкретный день недели за n недель вперед-назад, нумерация сезонов(начиная с начала тренировочной выборки), перепроверить количество заказов в предыдущем (году, месяце, неделе) в дату максимально близкую к текущей, количество дней с момента открытия(учитывать данные находящиеся в тестовой и тренировочной выборке), квадраты и кубы признаков, лаги за предыдущие периуды на n назад, бинарный признак выходных

Внешние признаки:

давление атмосферы, средняя скорость ветра,  население, средняя зп в городе, изменение температуры по сравнению с предыдущим днем, отклонение температуры от от среднего за несколько предыдущих лет, расстояние от условного центра города или каким-либо другим образом оцененное местоположение, бинарные признаки праздников

### Добавленные признаки:
1) год

2) месяц в году

3) день в месяце

4) день в неделе

5) сквозная нумерация (дней, недель, месяцов)

6) признак город и признак филиала

7) среднее за конкретный день в году по всем филиалам-по конкретному филиалу, среднее за неделю ...

8) курс доллара

//6) 


### Ссылки на полезные материалы:
https://habrahabr.ru/post/264653/

[В комментах пример построения ансамбля](https://habrahabr.ru/post/270367/)

[dirrec](https://www.elen.ucl.ac.be/Proceedings/esann/esannpdf/es2006-77.pdf)